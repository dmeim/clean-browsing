# Clean-Browsing v0.5.0 - Firefox-First Architecture

**Release Date:** January 2026  
**Type:** Major Release  
**Extension Version:** 0.5.0

## ðŸŽ¯ Major Changes

### Firefox-First Focus
Clean-Browsing now targets Firefox and Firefox-based browsers (Zen, LibreWolf, Waterfox) exclusively. This strategic shift simplifies the codebase and enables deeper integration with Firefox's native features.

#### Key Architectural Changes:
- **Manifest V2**: Native Firefox WebExtension format (no more MV3 complexity)
- **Unified Manifest**: Single `manifest.json` replaces the Chrome/Firefox switching system
- **Native Sidebar**: Leverages Firefox's built-in `sidebar_action` API
- **webRequest API**: Direct header modification without declarativeNetRequest workarounds

### Final Rebrand: Clean-Browsing
Completing the branding evolution from v0.4.0:
- **Extension Name**: "Clean NewTab" â†’ "Clean-Browsing"
- **Scope**: Reflects the full browsing enhancement suite (dashboard + sidepanel + tools)
- **Identity**: Professional naming for the complete product vision

## âœ¨ Technical Improvements

### Simplified Architecture
- **Removed**: Chrome MV3 service worker complexity
- **Removed**: `switch-manifest.sh` and dual-manifest system
- **Removed**: declarativeNetRequest JSON rules
- **Added**: Unified `browser-api.js` wrapper for consistent API access
- **Added**: `default-settings.js` as single source of truth for configuration

### Enhanced Header Bypass Pipeline
- Per-tab origin tracking with automatic session cleanup
- Scoped to `sub_frame` requests only for security
- 5-minute session garbage collection
- Clean tab lifecycle management

### Code Quality
- Consolidated duplicate default settings across files
- Proper event listener cleanup patterns
- Shadow DOM isolation for sidepanel injection
- Viewport wrapper system for content displacement

## ðŸ”§ What's Preserved

All features from v0.4.0 remain fully functional:
- Complete widget system (Clock, Calculator, Search, Date)
- 40Ã—24 grid system with drag & drop positioning
- Universal sidepanel with iframe embedding
- Glassmorphism design system
- Import/export configuration as JSON
- Privacy-first local storage
- Zero external dependencies

## ðŸ“¦ Installation

### Firefox & Firefox-Based Browsers
1. Download from [Releases](../release-notes/)
2. Navigate to `about:debugging#/runtime/this-firefox`
3. Click "Load Temporary Add-on"
4. Select any file inside the `extension` folder

### Supported Browsers
- âœ… Firefox 78+
- âœ… Firefox Developer Edition
- âœ… Zen Browser
- âœ… LibreWolf
- âœ… Waterfox

## ðŸš€ What's Next

With the Firefox-first foundation complete, upcoming releases will focus on:
- Security documentation and transparency
- Accessibility improvements (ARIA labels, keyboard navigation)
- Additional widget development
- Performance optimizations

---

*For the complete development roadmap, see [docs/features/README.md](../docs/features/README.md)*

